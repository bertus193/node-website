<% include header.ejs %>

<body>
<div class="container">
  <div class="jumbotron text-center">
   <% if(typeof msg !== 'undefined' && msg !== null){%>    
         <%if(msg == 1){%>
           <div class="alert alert-dismissible alert-danger">
              Debes seleccionar una imagen
         <%}else if(msg == 2){%>
           <div class="alert alert-dismissible alert-danger">
              Solo se puede utilizar el formato .png
         <%}%>
           </div>  
   <%}%>
             
            <div id="uploadImage"></div>
      
         <script type="text/babel">
         var uploadImage = React.createClass({
        
        render() {
            return (
              <div>
                  <form action="/images/upload" method="POST" encType="multipart/form-data">
                  <h1><i className="fa fa-cloud-upload" aria-hidden="true"></i> Subir imagen</h1><br></br>
                    <% if(typeof user !== 'undefined' && user !== null && user.length == 1){%>
                       <input type="hidden" name="user" value="<%=user[0].username%>"></input>
                    <%}else{%>
                      <input type="hidden" name="user" value="AnÃ³nimo"></input>
                    <%}%>

                    <input className="btn btn-default" type='file' name='image'></input><br></br><br></br>
                    <input class="btn btn-primary" type="submit" value="Subir imagen"></input>
                    </form>
              </div>
            );
         }
         })
         //mostramos el componente
         ReactDOM.render(
            React.createElement(uploadImage),
            document.getElementById('uploadImage')
         )
      </script>
   </div>
</div>
</body>
</html>

